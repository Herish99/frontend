<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <p>
        The Promise object represents the eventual completion (or failure) of an asynchronous operation and its
        resulting value.
    </p>
    <p>
        To learn about the way promises work and how you can use them, we advise you to read Using promises first.
    </p>
    <ul>
        <li><em>pending</em>: initial state, neither fulfilled nor rejected.</li>
        <li><em>fulfilled</em>: meaning that the operation was completed successfully.</li>
        <li><em>rejected</em>: meaning that the operation failed.</li>
    </ul>
    <script>
        myPromise = new Promise((resolve, rejected) => {
            let marks = 70
            if (marks > 50) {
                setTimeout(() => {
                    resolve("resolved")
                }, 2000);
            } else {
                setTimeout(() => {
                    rejected("rejected")
                }, 2000);
            }
        })
        console.log(myPromise);
        myPromise.then((res) => {
            console.log(res);
        }).catch((res) => {
            console.log(res);
        })

        // fetch("serverURL").then("json conversion").then("server res")

        // ================================================================================================//

        // Imagine you've ordered a package online, and the website promises to deliver it to your doorstep. The promise consists of three possible states:
        //Pending: The package is on its way.
        // Fulfilled: The package has arrived at your doorstep.
        // Rejected: There's a problem, and the package couldn't be delivered.

        // Simulating an asynchronous operation with a promise
        function orderPackage() {
            return new Promise((resolve, reject) => {
                setTimeout(() => {
                    const isDelivered = Math.random() < 0.8; // Simulating successful delivery probability

                    if (isDelivered) {
                        resolve('Package delivered!');
                    } else {
                        reject('Package couldn\'t be delivered.');
                    }
                }, 2000); // Simulating a 2-second delivery time
            });
        }

        // Placing an order (initiating the asynchronous operation)
        const packagePromise = orderPackage();

        // Handling the promise's states
        packagePromise.then((result) => {
            console.log(result); // Fulfilled: Package delivered!
        }).catch((error) => {
            console.log(error); // Rejected: Package couldn't be delivered.
        });

        console.log('Order placed. Waiting for package...');

    </script>
</body>

</html>